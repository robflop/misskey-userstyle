/* ==UserStyle==
@name           Misskey UI Adjustment
@namespace      https://github.com/robflop/misskey-userstyle
@version        1.7.6
@description    Modifies the Misskey "pope" UI to utilize more screen space and other misc UI changes. Likely requires manual adjustment for other environments.
@author         robflop
==/UserStyle== */
@-moz-document domain("misskey.io") {
	
	/* Replace Misskey default font with Roboto */
	html {
		font-family: Roboto,HelveticaNeue,Arial,sans-serif;
	}
	
	/* Remove element that doesn't seem to do anything but place a margin, which messes with my style */
	.mk-app > .widgets > div:nth-child(1) {
		display: none;
	}
	
	/* Make the outer widget container (has the inner widget container and the "Edit widgets" button) wide enough to display the widgets side-by-side */
	.mk-app > .widgets > div:nth-child(2) {
		width: 620px;
		padding-top: 74px;
	}
	
	/* Make the inner widget container (has the actual widgets) a flexbox to display its widgets side-by-side */
	.mk-app > .widgets > div:nth-child(2) > div {
		height: 835px;
		display: flex;
		flex: 1;
		flex-wrap: wrap;
		flex-direction: column;
		place-content: flex-start;
	}
	
	/* Make each widget only be as wide as its contents are and set their margins */
	.mk-app > .widgets .widget {
		margin: 0 var(--margin) var(--margin) 0;
		width: 100%;
	}
	
	/* Editing widgets is broken with the style enabled and I'm not gonna fix it, so hide the button (also because I don't change my widgets anyway) */
	.mk-app > .widgets > div:nth-child(2) > button {
		display: none;
	}
	
	/* Make background set in settings visible again */
	.mk-app > .sidebar > .nav > div, /* Most of the Navbar  */
	.mk-app > .sidebar > .nav > div > button.post, /* New Note button */
	.mk-app > .sidebar > .nav > div > button.account, /* Account selection button */
	.mk-app > .contents, /* Main timelime */
	.mk-app > .contents > .header, /* Header bar */
	.mk-app > .contents .content .tl, /* Loading indicator element */
	.mk-app > .contents .content > div, /* Notification page */
	.mk-app > .contents .content ._content > .notes, /* "Popular" page */
	.mk-app > .widgets /* Widgets area */ {
		background: none !important;
	}
	
	/* Make main content area wider and add padding if not already existing */
	.mk-app > .contents > main > .content > div, /* Main timeline */
	.mk-app > .contents > main > .content .notifications, /* Notifications page */
	.mk-app > .contents > main > .content .notes /* "Popular" page */ {
		margin: revert;
		max-width: revert;
		padding: var(--margin);
	}
	
	/** Play mfm on hover only **/
	.article:not(:hover) span, .reply-to:not(:hover) span {
		animation: none !important;
	}
	
	/** Remove bouncing animation when clicking menu items **/
	._anime_bounce,
	._anime_bounce_ready,
	._anime_bounce_standBy {
    		animation: none !important;
    		transform: none !important;
	}
}
